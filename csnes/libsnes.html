<!-- Generated by Cython 0.16rc0 on Sat Apr 14 18:01:16 2012 -->
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">

body { font-family: courier; font-size: 12; }

.code  { font-size: 9; color: #444444; display: none; margin-left: 20px; }
.py_c_api  { color: red; }
.py_macro_api  { color: #FF7000; }
.pyx_c_api  { color: #FF3000; }
.pyx_macro_api  { color: #FF7000; }
.refnanny  { color: #FFA000; }

.error_goto  { color: #FFA000; }

.tag  {  }

.coerce  { color: #008000; border: 1px dotted #008000 }

.py_attr { color: #FF0000; font-weight: bold; }
.c_attr  { color: #0000FF; }

.py_call { color: #FF0000; font-weight: bold; }
.c_call  { color: #0000FF; }

.line { margin: 0em }

</style>
<script>
function toggleDiv(id) {
    theDiv = document.getElementById(id);
    if (theDiv.style.display == 'none') theDiv.style.display = 'block';
    else theDiv.style.display = 'none';
}
</script>
</head>
        <body>
<p>Generated by Cython 0.16rc0 on Sat Apr 14 18:01:16 2012
<p>Raw output: <a href="libsnes.cpp">libsnes.cpp</a>
<pre class='line' style='background-color: #FFFF79' onclick='toggleDiv("line1")'> 1: #cython: boundscheck=False</pre>
<pre id='line1' class='code' style='background-color: #FFFF79'>
  /* "libsnes.pyx":1
 * #cython: boundscheck=False             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * #cython: cdivision=True
 * 
 */
  __pyx_t_1 = <span class='py_c_api'>PyDict_New</span>();<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  if (<span class='py_c_api'>PyObject_SetAttr</span>(__pyx_m, __pyx_n_s____test__, ((PyObject *)__pyx_t_1)) <code><</code> 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 1; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line2")'> 2: #cython: cdivision=True</pre>
<pre id='line2' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line3")'> 3: </pre>
<pre id='line3' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line4")'> 4: cdef nogil:</pre>
<pre id='line4' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line5")'> 5: 	set_environment_t set_environment</pre>
<pre id='line5' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line6")'> 6: </pre>
<pre id='line6' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line7")'> 7: 	library_id_t library_id</pre>
<pre id='line7' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line8")'> 8: </pre>
<pre id='line8' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line9")'> 9: 	library_revision_major_t library_revision_major</pre>
<pre id='line9' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line10")'> 10: 	library_revision_minor_t library_revision_minor</pre>
<pre id='line10' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line11")'> 11: </pre>
<pre id='line11' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line12")'> 12: 	init_t init</pre>
<pre id='line12' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line13")'> 13: 	term_t term</pre>
<pre id='line13' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line14")'> 14: </pre>
<pre id='line14' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line15")'> 15: 	set_controller_port_device_t set_controller_port_device</pre>
<pre id='line15' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line16")'> 16: </pre>
<pre id='line16' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line17")'> 17: 	power_t      power</pre>
<pre id='line17' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line18")'> 18: 	reset_t      reset</pre>
<pre id='line18' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line19")'> 19: 	run_t        run</pre>
<pre id='line19' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line20")'> 20: 	get_region_t get_region</pre>
<pre id='line20' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line21")'> 21: </pre>
<pre id='line21' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line22")'> 22: 	serialize_size_t serialize_size</pre>
<pre id='line22' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line23")'> 23: 	serialize_t      serialize</pre>
<pre id='line23' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line24")'> 24: 	unserialize_t    unserialize</pre>
<pre id='line24' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line25")'> 25: </pre>
<pre id='line25' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line26")'> 26: 	cheat_reset_t cheat_reset</pre>
<pre id='line26' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line27")'> 27: 	cheat_set_t   cheat_set</pre>
<pre id='line27' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line28")'> 28: </pre>
<pre id='line28' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line29")'> 29: 	load_cartridge_normal_t      load_cartridge_normal</pre>
<pre id='line29' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line30")'> 30: 	load_cartridge_bsx_t         load_cartridge_bsx</pre>
<pre id='line30' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line31")'> 31: 	load_cartridge_bsx_slotted_t load_cartridge_bsx_slotted</pre>
<pre id='line31' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line32")'> 32: </pre>
<pre id='line32' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line33")'> 33: 	load_cartridge_sufami_turbo_t   load_cartridge_sufami_turbo</pre>
<pre id='line33' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line34")'> 34: 	load_cartridge_super_game_boy_t load_cartridge_super_game_boy</pre>
<pre id='line34' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line35")'> 35: </pre>
<pre id='line35' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line36")'> 36: 	set_cartridge_basename_t set_cartridge_basename</pre>
<pre id='line36' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line37")'> 37: 	unload_cartridge_t       unload_cartridge</pre>
<pre id='line37' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line38")'> 38: </pre>
<pre id='line38' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line39")'> 39: 	get_memory_data_t get_memory_data</pre>
<pre id='line39' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line40")'> 40: 	get_memory_size_t get_memory_size</pre>
<pre id='line40' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line41")'> 41: </pre>
<pre id='line41' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line42")'> 42: 	set_audio_sample_t  set_audio_sample</pre>
<pre id='line42' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line43")'> 43: 	set_video_refresh_t set_video_refresh</pre>
<pre id='line43' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line44")'> 44: 	set_input_poll_t    set_input_poll</pre>
<pre id='line44' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line45")'> 45: 	set_input_state_t   set_input_state</pre>
<pre id='line45' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line46")'> 46: </pre>
<pre id='line46' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line47")'> 47: </pre>
<pre id='line47' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line48")'> 48: </pre>
<pre id='line48' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line49")'> 49: </pre>
<pre id='line49' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line50")'> 50: </pre>
<pre id='line50' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line51")'> 51: # audio</pre>
<pre id='line51' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line52")'> 52: cdef Mix_Chunk* snd_chunk = NULL</pre>
<pre id='line52' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":52
 * 
 * # audio
 * cdef Mix_Chunk* snd_chunk = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * cdef uint16_t* snd_data16 = NULL
 * cdef int snd_pos = 0
 */
  __pyx_v_7libsnes_snd_chunk = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line53")'> 53: cdef uint16_t* snd_data16 = NULL</pre>
<pre id='line53' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":53
 * # audio
 * cdef Mix_Chunk* snd_chunk = NULL
 * cdef uint16_t* snd_data16 = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * cdef int snd_pos = 0
 * cdef bool snd_playing = 0
 */
  __pyx_v_7libsnes_snd_data16 = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line54")'> 54: cdef int snd_pos = 0</pre>
<pre id='line54' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":54
 * cdef Mix_Chunk* snd_chunk = NULL
 * cdef uint16_t* snd_data16 = NULL
 * cdef int snd_pos = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * cdef bool snd_playing = 0
 * 
 */
  __pyx_v_7libsnes_snd_pos = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line55")'> 55: cdef bool snd_playing = 0</pre>
<pre id='line55' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":55
 * cdef uint16_t* snd_data16 = NULL
 * cdef int snd_pos = 0
 * cdef bool snd_playing = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * # video
 */
  __pyx_v_7libsnes_snd_playing = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line56")'> 56: </pre>
<pre id='line56' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line57")'> 57: # video</pre>
<pre id='line57' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line58")'> 58: cdef SDL_Surface *vidsurf = NULL</pre>
<pre id='line58' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":58
 * 
 * # video
 * cdef SDL_Surface *vidsurf = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * cdef SDL_Surface *bufsurf = NULL
 * 
 */
  __pyx_v_7libsnes_vidsurf = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line59")'> 59: cdef SDL_Surface *bufsurf = NULL</pre>
<pre id='line59' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":59
 * # video
 * cdef SDL_Surface *vidsurf = NULL
 * cdef SDL_Surface *bufsurf = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * # input
 */
  __pyx_v_7libsnes_bufsurf = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line60")'> 60: </pre>
<pre id='line60' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line61")'> 61: # input</pre>
<pre id='line61' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line62")'> 62: cdef int16_t digipads[2][16]</pre>
<pre id='line62' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line63")'> 63: cdef char* joy_map = NULL</pre>
<pre id='line63' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":63
 * # input
 * cdef int16_t digipads[2][16]
 * cdef char* joy_map = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * cdef SDL_Joystick* joy_id = NULL
 * 
 */
  __pyx_v_7libsnes_joy_map = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line64")'> 64: cdef SDL_Joystick* joy_id = NULL</pre>
<pre id='line64' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":64
 * cdef int16_t digipads[2][16]
 * cdef char* joy_map = NULL
 * cdef SDL_Joystick* joy_id = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
  __pyx_v_7libsnes_joy_id = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line65")'> 65: </pre>
<pre id='line65' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line66")'> 66: </pre>
<pre id='line66' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line67")'> 67: </pre>
<pre id='line67' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line68")'> 68: </pre>
<pre id='line68' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line69")'> 69: cdef void audio_sample(uint16_t left, uint16_t right):</pre>
<pre id='line69' class='code' style='background-color: #FFFFff'>
/* "libsnes.pyx":69
 * 
 * 
 * cdef void audio_sample(uint16_t left, uint16_t right):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global snd_chunk, snd_data16, snd_pos, snd_playing
 * 	if snd_chunk:
 */

static void __pyx_f_7libsnes_audio_sample(__pyx_t_7libsnes_uint16_t __pyx_v_left, __pyx_t_7libsnes_uint16_t __pyx_v_right) {
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("audio_sample", 0);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line70")'> 70: 	global snd_chunk, snd_data16, snd_pos, snd_playing</pre>
<pre id='line70' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line71")'> 71: 	if snd_chunk:</pre>
<pre id='line71' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":71
 * cdef void audio_sample(uint16_t left, uint16_t right):
 * 	global snd_chunk, snd_data16, snd_pos, snd_playing
 * 	if snd_chunk:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		snd_data16[snd_pos  ] = left
 * 		snd_data16[snd_pos+1] = right
 */
  __pyx_t_1 = (__pyx_v_7libsnes_snd_chunk != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line72")'> 72: 		snd_data16[snd_pos  ] = left</pre>
<pre id='line72' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":72
 * 	global snd_chunk, snd_data16, snd_pos, snd_playing
 * 	if snd_chunk:
 * 		snd_data16[snd_pos  ] = left             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		snd_data16[snd_pos+1] = right
 * 		snd_pos = (snd_pos+2) & 0x3FF
 */
    (__pyx_v_7libsnes_snd_data16[__pyx_v_7libsnes_snd_pos]) = __pyx_v_left;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line73")'> 73: 		snd_data16[snd_pos+1] = right</pre>
<pre id='line73' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":73
 * 	if snd_chunk:
 * 		snd_data16[snd_pos  ] = left
 * 		snd_data16[snd_pos+1] = right             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		snd_pos = (snd_pos+2) & 0x3FF
 * 		if not snd_pos:
 */
    (__pyx_v_7libsnes_snd_data16[(__pyx_v_7libsnes_snd_pos + 1)]) = __pyx_v_right;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line74")'> 74: 		snd_pos = (snd_pos+2) &amp; 0x3FF</pre>
<pre id='line74' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":74
 * 		snd_data16[snd_pos  ] = left
 * 		snd_data16[snd_pos+1] = right
 * 		snd_pos = (snd_pos+2) & 0x3FF             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		if not snd_pos:
 * 			Mix_Pause(0)
 */
    __pyx_v_7libsnes_snd_pos = ((__pyx_v_7libsnes_snd_pos + 2) & 0x3FF);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line75")'> 75: 		if not snd_pos:</pre>
<pre id='line75' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":75
 * 		snd_data16[snd_pos+1] = right
 * 		snd_pos = (snd_pos+2) & 0x3FF
 * 		if not snd_pos:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			Mix_Pause(0)
 * 			memcpy(snd_chunk.abuf, snd_data16, 512*2*2)
 */
    __pyx_t_1 = (!__pyx_v_7libsnes_snd_pos);
    if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line76")'> 76: 			Mix_Pause(0)</pre>
<pre id='line76' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":76
 * 		snd_pos = (snd_pos+2) & 0x3FF
 * 		if not snd_pos:
 * 			Mix_Pause(0)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			memcpy(snd_chunk.abuf, snd_data16, 512*2*2)
 * 			if not snd_playing:
 */
      Mix_Pause(0);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line77")'> 77: 			memcpy(snd_chunk.abuf, snd_data16, 512*2*2)</pre>
<pre id='line77' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":77
 * 		if not snd_pos:
 * 			Mix_Pause(0)
 * 			memcpy(snd_chunk.abuf, snd_data16, 512*2*2)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			if not snd_playing:
 * 				snd_playing = 1
 */
      memcpy(__pyx_v_7libsnes_snd_chunk->abuf, __pyx_v_7libsnes_snd_data16, 2048);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line78")'> 78: 			if not snd_playing:</pre>
<pre id='line78' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":78
 * 			Mix_Pause(0)
 * 			memcpy(snd_chunk.abuf, snd_data16, 512*2*2)
 * 			if not snd_playing:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 				snd_playing = 1
 * 				Mix_PlayChannel(0, snd_chunk, -1)
 */
      __pyx_t_1 = (!__pyx_v_7libsnes_snd_playing);
      if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line79")'> 79: 				snd_playing = 1</pre>
<pre id='line79' class='code' style='background-color: #FFFFff'>
        /* "libsnes.pyx":79
 * 			memcpy(snd_chunk.abuf, snd_data16, 512*2*2)
 * 			if not snd_playing:
 * 				snd_playing = 1             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 				Mix_PlayChannel(0, snd_chunk, -1)
 * 			Mix_Resume(0)
 */
        __pyx_v_7libsnes_snd_playing = 1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line80")'> 80: 				Mix_PlayChannel(0, snd_chunk, -1)</pre>
<pre id='line80' class='code' style='background-color: #FFFFff'>
        /* "libsnes.pyx":80
 * 			if not snd_playing:
 * 				snd_playing = 1
 * 				Mix_PlayChannel(0, snd_chunk, -1)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			Mix_Resume(0)
 * 
 */
        Mix_PlayChannel(0, __pyx_v_7libsnes_snd_chunk, -1);
        goto __pyx_L5;
      }
      __pyx_L5:;
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line81")'> 81: 			Mix_Resume(0)</pre>
<pre id='line81' class='code' style='background-color: #FFFFe7'>
      /* "libsnes.pyx":81
 * 				snd_playing = 1
 * 				Mix_PlayChannel(0, snd_chunk, -1)
 * 			Mix_Resume(0)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cdef void video_refresh(uint16_t *data, unsigned width, unsigned height) nogil:
 */
      Mix_Resume(0);
      goto __pyx_L4;
    }
    __pyx_L4:;
    goto __pyx_L3;
  }
  __pyx_L3:;

  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line82")'> 82: </pre>
<pre id='line82' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line83")'> 83: cdef void video_refresh(uint16_t *data, unsigned width, unsigned height) nogil:</pre>
<pre id='line83' class='code' style='background-color: #FFFFff'>
/* "libsnes.pyx":83
 * 			Mix_Resume(0)
 * 
 * cdef void video_refresh(uint16_t *data, unsigned width, unsigned height) nogil:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global vidsurf, bufsurf
 * 	cdef int pitch = 2048 # in bytes for SDL
 */

static void __pyx_f_7libsnes_video_refresh(__pyx_t_7libsnes_uint16_t *__pyx_v_data, unsigned int __pyx_v_width, unsigned int __pyx_v_height) {
  int __pyx_v_pitch;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line84")'> 84: 	global vidsurf, bufsurf</pre>
<pre id='line84' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line85")'> 85: 	cdef int pitch = 2048 # in bytes for SDL</pre>
<pre id='line85' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":85
 * cdef void video_refresh(uint16_t *data, unsigned width, unsigned height) nogil:
 * 	global vidsurf, bufsurf
 * 	cdef int pitch = 2048 # in bytes for SDL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	if vidsurf:
 * 		if not bufsurf:
 */
  __pyx_v_pitch = 2048;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line86")'> 86: 	if vidsurf:</pre>
<pre id='line86' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":86
 * 	global vidsurf, bufsurf
 * 	cdef int pitch = 2048 # in bytes for SDL
 * 	if vidsurf:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		if not bufsurf:
 * 			if (height == 448 or height == 478):  pitch = 1024
 */
  __pyx_t_1 = (__pyx_v_7libsnes_vidsurf != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line87")'> 87: 		if not bufsurf:</pre>
<pre id='line87' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":87
 * 	cdef int pitch = 2048 # in bytes for SDL
 * 	if vidsurf:
 * 		if not bufsurf:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			if (height == 448 or height == 478):  pitch = 1024
 * 			bufsurf = SDL_CreateRGBSurfaceFrom(data, width, height, 15, pitch,
 */
    __pyx_t_1 = (!(__pyx_v_7libsnes_bufsurf != 0));
    if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line88")'> 88: 			if (height == 448 or height == 478):  pitch = 1024</pre>
<pre id='line88' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":88
 * 	if vidsurf:
 * 		if not bufsurf:
 * 			if (height == 448 or height == 478):  pitch = 1024             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			bufsurf = SDL_CreateRGBSurfaceFrom(data, width, height, 15, pitch,
 * 			                                   0x7c00, 0x03e0, 0x001f, 0)
 */
      switch (__pyx_v_height) {
        case 448:
        case 478:
        __pyx_v_pitch = 1024;
        break;
      }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line89")'> 89: 			bufsurf = SDL_CreateRGBSurfaceFrom(data, width, height, 15, pitch,</pre>
<pre id='line89' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":89
 * 		if not bufsurf:
 * 			if (height == 448 or height == 478):  pitch = 1024
 * 			bufsurf = SDL_CreateRGBSurfaceFrom(data, width, height, 15, pitch,             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			                                   0x7c00, 0x03e0, 0x001f, 0)
 * 		SDL_BlitSurface(bufsurf, NULL, vidsurf, NULL)
 */
      __pyx_v_7libsnes_bufsurf = SDL_CreateRGBSurfaceFrom(__pyx_v_data, __pyx_v_width, __pyx_v_height, 15, __pyx_v_pitch, 0x7c00, 0x03e0, 0x001f, 0);
      goto __pyx_L4;
    }
    __pyx_L4:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line90")'> 90: 			                                   0x7c00, 0x03e0, 0x001f, 0)</pre>
<pre id='line90' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line91")'> 91: 		SDL_BlitSurface(bufsurf, NULL, vidsurf, NULL)</pre>
<pre id='line91' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":91
 * 			bufsurf = SDL_CreateRGBSurfaceFrom(data, width, height, 15, pitch,
 * 			                                   0x7c00, 0x03e0, 0x001f, 0)
 * 		SDL_BlitSurface(bufsurf, NULL, vidsurf, NULL)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cdef void input_poll() nogil:
 */
    SDL_BlitSurface(__pyx_v_7libsnes_bufsurf, NULL, __pyx_v_7libsnes_vidsurf, NULL);
    goto __pyx_L3;
  }
  __pyx_L3:;

}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line92")'> 92: </pre>
<pre id='line92' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line93")'> 93: cdef void input_poll() nogil:</pre>
<pre id='line93' class='code' style='background-color: #FFFFff'>
/* "libsnes.pyx":93
 * 		SDL_BlitSurface(bufsurf, NULL, vidsurf, NULL)
 * 
 * cdef void input_poll() nogil:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads, joy_map, joy_id
 * 	cdef int i, hat
 */

static void __pyx_f_7libsnes_input_poll(void) {
  int __pyx_v_i;
  int __pyx_v_hat;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line94")'> 94: 	global digipads, joy_map, joy_id</pre>
<pre id='line94' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line95")'> 95: 	cdef int i, hat</pre>
<pre id='line95' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line96")'> 96: 	if joy_map and joy_id:</pre>
<pre id='line96' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":96
 * 	global digipads, joy_map, joy_id
 * 	cdef int i, hat
 * 	if joy_map and joy_id:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		SDL_JoystickUpdate()
 * 		hat = SDL_JoystickGetHat(joy_id, 0)
 */
  if ((__pyx_v_7libsnes_joy_map != 0)) {
    __pyx_t_1 = (__pyx_v_7libsnes_joy_id != 0);
  } else {
    __pyx_t_1 = (__pyx_v_7libsnes_joy_map != 0);
  }
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line97")'> 97: 		SDL_JoystickUpdate()</pre>
<pre id='line97' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":97
 * 	cdef int i, hat
 * 	if joy_map and joy_id:
 * 		SDL_JoystickUpdate()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		hat = SDL_JoystickGetHat(joy_id, 0)
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_UP]    = 1 if hat & SDL_HAT_UP else 0
 */
    SDL_JoystickUpdate();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line98")'> 98: 		hat = SDL_JoystickGetHat(joy_id, 0)</pre>
<pre id='line98' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":98
 * 	if joy_map and joy_id:
 * 		SDL_JoystickUpdate()
 * 		hat = SDL_JoystickGetHat(joy_id, 0)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_UP]    = 1 if hat & SDL_HAT_UP else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_DOWN]  = 1 if hat & SDL_HAT_DOWN else 0
 */
    __pyx_v_hat = SDL_JoystickGetHat(__pyx_v_7libsnes_joy_id, 0);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line99")'> 99: 		digipads[0][SNES_DEVICE_ID_JOYPAD_UP]    = 1 if hat &amp; SDL_HAT_UP else 0</pre>
<pre id='line99' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":99
 * 		SDL_JoystickUpdate()
 * 		hat = SDL_JoystickGetHat(joy_id, 0)
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_UP]    = 1 if hat & SDL_HAT_UP else 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_DOWN]  = 1 if hat & SDL_HAT_DOWN else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_LEFT]  = 1 if hat & SDL_HAT_LEFT else 0
 */
    if ((__pyx_v_hat & SDL_HAT_UP)) {
      __pyx_t_2 = 1;
    } else {
      __pyx_t_2 = 0;
    }
    ((__pyx_v_7libsnes_digipads[0])[SNES_DEVICE_ID_JOYPAD_UP]) = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line100")'> 100: 		digipads[0][SNES_DEVICE_ID_JOYPAD_DOWN]  = 1 if hat &amp; SDL_HAT_DOWN else 0</pre>
<pre id='line100' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":100
 * 		hat = SDL_JoystickGetHat(joy_id, 0)
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_UP]    = 1 if hat & SDL_HAT_UP else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_DOWN]  = 1 if hat & SDL_HAT_DOWN else 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_LEFT]  = 1 if hat & SDL_HAT_LEFT else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_RIGHT] = 1 if hat & SDL_HAT_RIGHT else 0
 */
    if ((__pyx_v_hat & SDL_HAT_DOWN)) {
      __pyx_t_2 = 1;
    } else {
      __pyx_t_2 = 0;
    }
    ((__pyx_v_7libsnes_digipads[0])[SNES_DEVICE_ID_JOYPAD_DOWN]) = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line101")'> 101: 		digipads[0][SNES_DEVICE_ID_JOYPAD_LEFT]  = 1 if hat &amp; SDL_HAT_LEFT else 0</pre>
<pre id='line101' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":101
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_UP]    = 1 if hat & SDL_HAT_UP else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_DOWN]  = 1 if hat & SDL_HAT_DOWN else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_LEFT]  = 1 if hat & SDL_HAT_LEFT else 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_RIGHT] = 1 if hat & SDL_HAT_RIGHT else 0
 * 		for i in xrange(4):
 */
    if ((__pyx_v_hat & SDL_HAT_LEFT)) {
      __pyx_t_2 = 1;
    } else {
      __pyx_t_2 = 0;
    }
    ((__pyx_v_7libsnes_digipads[0])[SNES_DEVICE_ID_JOYPAD_LEFT]) = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line102")'> 102: 		digipads[0][SNES_DEVICE_ID_JOYPAD_RIGHT] = 1 if hat &amp; SDL_HAT_RIGHT else 0</pre>
<pre id='line102' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":102
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_DOWN]  = 1 if hat & SDL_HAT_DOWN else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_LEFT]  = 1 if hat & SDL_HAT_LEFT else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_RIGHT] = 1 if hat & SDL_HAT_RIGHT else 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		for i in xrange(4):
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 */
    if ((__pyx_v_hat & SDL_HAT_RIGHT)) {
      __pyx_t_2 = 1;
    } else {
      __pyx_t_2 = 0;
    }
    ((__pyx_v_7libsnes_digipads[0])[SNES_DEVICE_ID_JOYPAD_RIGHT]) = __pyx_t_2;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line103")'> 103: 		for i in xrange(4):</pre>
<pre id='line103' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":103
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_LEFT]  = 1 if hat & SDL_HAT_LEFT else 0
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_RIGHT] = 1 if hat & SDL_HAT_RIGHT else 0
 * 		for i in xrange(4):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 * 		for i in xrange(8,12):
 */
    for (__pyx_t_3 = 0; __pyx_t_3 <code><</code> 4; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line104")'> 104: 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )</pre>
<pre id='line104' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":104
 * 		digipads[0][SNES_DEVICE_ID_JOYPAD_RIGHT] = 1 if hat & SDL_HAT_RIGHT else 0
 * 		for i in xrange(4):
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		for i in xrange(8,12):
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 */
      ((__pyx_v_7libsnes_digipads[0])[__pyx_v_i]) = SDL_JoystickGetButton(__pyx_v_7libsnes_joy_id, ((__pyx_v_7libsnes_joy_map[__pyx_v_i]) - 0x30));
    }
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line105")'> 105: 		for i in xrange(8,12):</pre>
<pre id='line105' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":105
 * 		for i in xrange(4):
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 * 		for i in xrange(8,12):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 * 
 */
    for (__pyx_t_3 = 8; __pyx_t_3 <code><</code> 12; __pyx_t_3+=1) {
      __pyx_v_i = __pyx_t_3;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line106")'> 106: 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )</pre>
<pre id='line106' class='code' style='background-color: #FFFFff'>
      /* "libsnes.pyx":106
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 * 		for i in xrange(8,12):
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cdef int16_t input_state(bool port, unsigned device, unsigned index, unsigned id) nogil:
 */
      ((__pyx_v_7libsnes_digipads[0])[__pyx_v_i]) = SDL_JoystickGetButton(__pyx_v_7libsnes_joy_id, ((__pyx_v_7libsnes_joy_map[__pyx_v_i]) - 0x30));
    }
    goto __pyx_L3;
  }
  __pyx_L3:;

}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line107")'> 107: </pre>
<pre id='line107' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line108")'> 108: cdef int16_t input_state(bool port, unsigned device, unsigned index, unsigned id) nogil:</pre>
<pre id='line108' class='code' style='background-color: #FFFFff'>
/* "libsnes.pyx":108
 * 			digipads[0][i] = SDL_JoystickGetButton( joy_id, joy_map[i]-0x30 )
 * 
 * cdef int16_t input_state(bool port, unsigned device, unsigned index, unsigned id) nogil:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	return digipads[port][id]
 */

static __pyx_t_7libsnes_int16_t __pyx_f_7libsnes_input_state(bool __pyx_v_port, CYTHON_UNUSED unsigned int __pyx_v_device, CYTHON_UNUSED unsigned int __pyx_v_index, unsigned int __pyx_v_id) {
  __pyx_t_7libsnes_int16_t __pyx_r;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line109")'> 109: 	global digipads</pre>
<pre id='line109' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line110")'> 110: 	return digipads[port][id]</pre>
<pre id='line110' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":110
 * cdef int16_t input_state(bool port, unsigned device, unsigned index, unsigned id) nogil:
 * 	global digipads
 * 	return digipads[port][id]             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
  __pyx_r = ((__pyx_v_7libsnes_digipads[__pyx_v_port])[__pyx_v_id]);
  goto __pyx_L0;

  __pyx_r = 0;
  __pyx_L0:;
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line111")'> 111: </pre>
<pre id='line111' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line112")'> 112: </pre>
<pre id='line112' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line113")'> 113: </pre>
<pre id='line113' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line114")'> 114: cdef void* handle = NULL</pre>
<pre id='line114' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":114
 * 
 * 
 * cdef void* handle = NULL             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef load_lib(char *path):
 */
  __pyx_v_7libsnes_handle = NULL;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line115")'> 115: </pre>
<pre id='line115' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line116")'> 116: cpdef load_lib(char *path):</pre>
<pre id='line116' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":116
 * cdef void* handle = NULL
 * 
 * cpdef load_lib(char *path):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global handle
 * 	global set_environment, library_id, library_revision_major, library_revision_minor
 */

static PyObject *__pyx_pw_7libsnes_1load_lib(PyObject *__pyx_self, PyObject *__pyx_arg_path); /*proto*/
static PyObject *__pyx_f_7libsnes_load_lib(char *__pyx_v_path, CYTHON_UNUSED int __pyx_skip_dispatch) {
  char *__pyx_v_err;
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("load_lib", 0);

/* "libsnes.pyx":116
 * cdef void* handle = NULL
 * 
 * cpdef load_lib(char *path):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global handle
 * 	global set_environment, library_id, library_revision_major, library_revision_minor
 */

static PyObject *__pyx_pf_7libsnes_load_lib(CYTHON_UNUSED PyObject *__pyx_self, char *__pyx_v_path) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("load_lib", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_load_lib(__pyx_v_path, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 116; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.load_lib", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line117")'> 117: 	global handle</pre>
<pre id='line117' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line118")'> 118: 	global set_environment, library_id, library_revision_major, library_revision_minor</pre>
<pre id='line118' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line119")'> 119: 	global init, term, set_controller_port_device, power, reset, run, get_region</pre>
<pre id='line119' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line120")'> 120: 	global serialize_size, serialize, unserialize, cheat_reset, cheat_set</pre>
<pre id='line120' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line121")'> 121: 	global load_cartridge_normal, load_cartridge_bsx, load_cartridge_bsx_slotted</pre>
<pre id='line121' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line122")'> 122: 	global load_cartridge_sufami_turbo, load_cartridge_super_game_boy</pre>
<pre id='line122' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line123")'> 123: 	global set_cartridge_basename, unload_cartridge</pre>
<pre id='line123' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line124")'> 124: 	global get_memory_data, get_memory_size</pre>
<pre id='line124' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line125")'> 125: 	global set_audio_sample, set_video_refresh, set_input_poll, set_input_state</pre>
<pre id='line125' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line126")'> 126: </pre>
<pre id='line126' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line127")'> 127: 	handle = dlopen(path, RTLD_LAZY)</pre>
<pre id='line127' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":127
 * 	global set_audio_sample, set_video_refresh, set_input_poll, set_input_state
 * 
 * 	handle = dlopen(path, RTLD_LAZY)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	cdef char* err = dlerror()
 */
  __pyx_v_7libsnes_handle = dlopen(__pyx_v_path, RTLD_LAZY);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line128")'> 128: </pre>
<pre id='line128' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line129")'> 129: 	cdef char* err = dlerror()</pre>
<pre id='line129' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":129
 * 	handle = dlopen(path, RTLD_LAZY)
 * 
 * 	cdef char* err = dlerror()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	if err:
 * 		close_lib()
 */
  __pyx_v_err = dlerror();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line130")'> 130: 	if err:</pre>
<pre id='line130' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":130
 * 
 * 	cdef char* err = dlerror()
 * 	if err:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		close_lib()
 * 		return err
 */
  __pyx_t_1 = (__pyx_v_err != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line131")'> 131: 		close_lib()</pre>
<pre id='line131' class='code' style='background-color: #FFFFe7'>
    /* "libsnes.pyx":131
 * 	cdef char* err = dlerror()
 * 	if err:
 * 		close_lib()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		return err
 * 
 */
    __pyx_t_2 = __pyx_f_7libsnes_close_lib(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 131; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line132")'> 132: 		return err</pre>
<pre id='line132' class='code' style='background-color: #FFFF9f'>
    /* "libsnes.pyx":132
 * 	if err:
 * 		close_lib()
 * 		return err             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	set_environment = <code><</code>set_environment_t> dlsym(handle, 'snes_set_environment')
 */
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = <span class='py_c_api'>PyBytes_FromString</span>(__pyx_v_err);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 132; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    __pyx_r = ((PyObject *)__pyx_t_2);
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L3;
  }
  __pyx_L3:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line133")'> 133: </pre>
<pre id='line133' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line134")'> 134: 	set_environment = &lt;set_environment_t&gt; dlsym(handle, 'snes_set_environment')</pre>
<pre id='line134' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":134
 * 		return err
 * 
 * 	set_environment = <code><</code>set_environment_t> dlsym(handle, 'snes_set_environment')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	library_id = <code><</code>library_id_t> dlsym(handle, 'snes_library_id')
 */
  __pyx_v_7libsnes_set_environment = ((__pyx_t_7libsnes_set_environment_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_1));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line135")'> 135: </pre>
<pre id='line135' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line136")'> 136: 	library_id = &lt;library_id_t&gt; dlsym(handle, 'snes_library_id')</pre>
<pre id='line136' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":136
 * 	set_environment = <code><</code>set_environment_t> dlsym(handle, 'snes_set_environment')
 * 
 * 	library_id = <code><</code>library_id_t> dlsym(handle, 'snes_library_id')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	library_revision_major = <code><</code>library_revision_major_t> dlsym(handle, 'snes_library_revision_major')
 */
  __pyx_v_7libsnes_library_id = ((__pyx_t_7libsnes_library_id_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_library_id));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line137")'> 137: </pre>
<pre id='line137' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line138")'> 138: 	library_revision_major = &lt;library_revision_major_t&gt; dlsym(handle, 'snes_library_revision_major')</pre>
<pre id='line138' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":138
 * 	library_id = <code><</code>library_id_t> dlsym(handle, 'snes_library_id')
 * 
 * 	library_revision_major = <code><</code>library_revision_major_t> dlsym(handle, 'snes_library_revision_major')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	library_revision_minor = <code><</code>library_revision_minor_t> dlsym(handle, 'snes_library_revision_minor')
 * 
 */
  __pyx_v_7libsnes_library_revision_major = ((__pyx_t_7libsnes_library_revision_major_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_2));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line139")'> 139: 	library_revision_minor = &lt;library_revision_minor_t&gt; dlsym(handle, 'snes_library_revision_minor')</pre>
<pre id='line139' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":139
 * 
 * 	library_revision_major = <code><</code>library_revision_major_t> dlsym(handle, 'snes_library_revision_major')
 * 	library_revision_minor = <code><</code>library_revision_minor_t> dlsym(handle, 'snes_library_revision_minor')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	init = <code><</code>init_t> dlsym(handle, 'snes_init')
 */
  __pyx_v_7libsnes_library_revision_minor = ((__pyx_t_7libsnes_library_revision_minor_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_3));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line140")'> 140: </pre>
<pre id='line140' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line141")'> 141: 	init = &lt;init_t&gt; dlsym(handle, 'snes_init')</pre>
<pre id='line141' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":141
 * 	library_revision_minor = <code><</code>library_revision_minor_t> dlsym(handle, 'snes_library_revision_minor')
 * 
 * 	init = <code><</code>init_t> dlsym(handle, 'snes_init')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	term = <code><</code>term_t> dlsym(handle, 'snes_term')
 * 
 */
  __pyx_v_7libsnes_init = ((__pyx_t_7libsnes_init_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_init));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line142")'> 142: 	term = &lt;term_t&gt; dlsym(handle, 'snes_term')</pre>
<pre id='line142' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":142
 * 
 * 	init = <code><</code>init_t> dlsym(handle, 'snes_init')
 * 	term = <code><</code>term_t> dlsym(handle, 'snes_term')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	set_controller_port_device = <code><</code>set_controller_port_device_t> dlsym(handle, 'snes_set_controller_port_device')
 */
  __pyx_v_7libsnes_term = ((__pyx_t_7libsnes_term_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_term));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line143")'> 143: </pre>
<pre id='line143' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line144")'> 144: 	set_controller_port_device = &lt;set_controller_port_device_t&gt; dlsym(handle, 'snes_set_controller_port_device')</pre>
<pre id='line144' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":144
 * 	term = <code><</code>term_t> dlsym(handle, 'snes_term')
 * 
 * 	set_controller_port_device = <code><</code>set_controller_port_device_t> dlsym(handle, 'snes_set_controller_port_device')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	power = <code><</code>power_t> dlsym(handle, 'snes_power')
 */
  __pyx_v_7libsnes_set_controller_port_device = ((__pyx_t_7libsnes_set_controller_port_device_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_4));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line145")'> 145: </pre>
<pre id='line145' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line146")'> 146: 	power = &lt;power_t&gt; dlsym(handle, 'snes_power')</pre>
<pre id='line146' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":146
 * 	set_controller_port_device = <code><</code>set_controller_port_device_t> dlsym(handle, 'snes_set_controller_port_device')
 * 
 * 	power = <code><</code>power_t> dlsym(handle, 'snes_power')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	reset = <code><</code>reset_t> dlsym(handle, 'snes_reset')
 * 	run = <code><</code>run_t> dlsym(handle, 'snes_run')
 */
  __pyx_v_7libsnes_power = ((__pyx_t_7libsnes_power_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_power));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line147")'> 147: 	reset = &lt;reset_t&gt; dlsym(handle, 'snes_reset')</pre>
<pre id='line147' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":147
 * 
 * 	power = <code><</code>power_t> dlsym(handle, 'snes_power')
 * 	reset = <code><</code>reset_t> dlsym(handle, 'snes_reset')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	run = <code><</code>run_t> dlsym(handle, 'snes_run')
 * 	get_region = <code><</code>get_region_t> dlsym(handle, 'snes_get_region')
 */
  __pyx_v_7libsnes_reset = ((__pyx_t_7libsnes_reset_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_reset));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line148")'> 148: 	run = &lt;run_t&gt; dlsym(handle, 'snes_run')</pre>
<pre id='line148' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":148
 * 	power = <code><</code>power_t> dlsym(handle, 'snes_power')
 * 	reset = <code><</code>reset_t> dlsym(handle, 'snes_reset')
 * 	run = <code><</code>run_t> dlsym(handle, 'snes_run')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	get_region = <code><</code>get_region_t> dlsym(handle, 'snes_get_region')
 * 
 */
  __pyx_v_7libsnes_run = ((__pyx_t_7libsnes_run_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_run));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line149")'> 149: 	get_region = &lt;get_region_t&gt; dlsym(handle, 'snes_get_region')</pre>
<pre id='line149' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":149
 * 	reset = <code><</code>reset_t> dlsym(handle, 'snes_reset')
 * 	run = <code><</code>run_t> dlsym(handle, 'snes_run')
 * 	get_region = <code><</code>get_region_t> dlsym(handle, 'snes_get_region')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	serialize_size = <code><</code>serialize_size_t> dlsym(handle, 'snes_serialize_size')
 */
  __pyx_v_7libsnes_get_region = ((__pyx_t_7libsnes_get_region_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_get_region));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line150")'> 150: </pre>
<pre id='line150' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line151")'> 151: 	serialize_size = &lt;serialize_size_t&gt; dlsym(handle, 'snes_serialize_size')</pre>
<pre id='line151' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":151
 * 	get_region = <code><</code>get_region_t> dlsym(handle, 'snes_get_region')
 * 
 * 	serialize_size = <code><</code>serialize_size_t> dlsym(handle, 'snes_serialize_size')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	serialize = <code><</code>serialize_t> dlsym(handle, 'snes_serialize')
 * 	unserialize = <code><</code>unserialize_t> dlsym(handle, 'snes_unserialize')
 */
  __pyx_v_7libsnes_serialize_size = ((__pyx_t_7libsnes_serialize_size_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_serialize_size));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line152")'> 152: 	serialize = &lt;serialize_t&gt; dlsym(handle, 'snes_serialize')</pre>
<pre id='line152' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":152
 * 
 * 	serialize_size = <code><</code>serialize_size_t> dlsym(handle, 'snes_serialize_size')
 * 	serialize = <code><</code>serialize_t> dlsym(handle, 'snes_serialize')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	unserialize = <code><</code>unserialize_t> dlsym(handle, 'snes_unserialize')
 * 
 */
  __pyx_v_7libsnes_serialize = ((__pyx_t_7libsnes_serialize_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_serialize));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line153")'> 153: 	unserialize = &lt;unserialize_t&gt; dlsym(handle, 'snes_unserialize')</pre>
<pre id='line153' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":153
 * 	serialize_size = <code><</code>serialize_size_t> dlsym(handle, 'snes_serialize_size')
 * 	serialize = <code><</code>serialize_t> dlsym(handle, 'snes_serialize')
 * 	unserialize = <code><</code>unserialize_t> dlsym(handle, 'snes_unserialize')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	cheat_reset = <code><</code>cheat_reset_t> dlsym(handle, 'snes_cheat_reset')
 */
  __pyx_v_7libsnes_unserialize = ((__pyx_t_7libsnes_unserialize_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_unserialize));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line154")'> 154: </pre>
<pre id='line154' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line155")'> 155: 	cheat_reset = &lt;cheat_reset_t&gt; dlsym(handle, 'snes_cheat_reset')</pre>
<pre id='line155' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":155
 * 	unserialize = <code><</code>unserialize_t> dlsym(handle, 'snes_unserialize')
 * 
 * 	cheat_reset = <code><</code>cheat_reset_t> dlsym(handle, 'snes_cheat_reset')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	cheat_set = <code><</code>cheat_set_t> dlsym(handle, 'snes_cheat_set')
 * 
 */
  __pyx_v_7libsnes_cheat_reset = ((__pyx_t_7libsnes_cheat_reset_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_cheat_reset));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line156")'> 156: 	cheat_set = &lt;cheat_set_t&gt; dlsym(handle, 'snes_cheat_set')</pre>
<pre id='line156' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":156
 * 
 * 	cheat_reset = <code><</code>cheat_reset_t> dlsym(handle, 'snes_cheat_reset')
 * 	cheat_set = <code><</code>cheat_set_t> dlsym(handle, 'snes_cheat_set')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	load_cartridge_normal = <code><</code>load_cartridge_normal_t> dlsym(handle, 'snes_load_cartridge_normal')
 */
  __pyx_v_7libsnes_cheat_set = ((__pyx_t_7libsnes_cheat_set_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_cheat_set));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line157")'> 157: </pre>
<pre id='line157' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line158")'> 158: 	load_cartridge_normal = &lt;load_cartridge_normal_t&gt; dlsym(handle, 'snes_load_cartridge_normal')</pre>
<pre id='line158' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":158
 * 	cheat_set = <code><</code>cheat_set_t> dlsym(handle, 'snes_cheat_set')
 * 
 * 	load_cartridge_normal = <code><</code>load_cartridge_normal_t> dlsym(handle, 'snes_load_cartridge_normal')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	load_cartridge_bsx = <code><</code>load_cartridge_bsx_t> dlsym(handle, 'snes_load_cartridge_bsx')
 * 	load_cartridge_bsx_slotted = <code><</code>load_cartridge_bsx_slotted_t> dlsym(handle, 'snes_load_cartridge_bsx_slotted')
 */
  __pyx_v_7libsnes_load_cartridge_normal = ((__pyx_t_7libsnes_load_cartridge_normal_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_5));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line159")'> 159: 	load_cartridge_bsx = &lt;load_cartridge_bsx_t&gt; dlsym(handle, 'snes_load_cartridge_bsx')</pre>
<pre id='line159' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":159
 * 
 * 	load_cartridge_normal = <code><</code>load_cartridge_normal_t> dlsym(handle, 'snes_load_cartridge_normal')
 * 	load_cartridge_bsx = <code><</code>load_cartridge_bsx_t> dlsym(handle, 'snes_load_cartridge_bsx')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	load_cartridge_bsx_slotted = <code><</code>load_cartridge_bsx_slotted_t> dlsym(handle, 'snes_load_cartridge_bsx_slotted')
 * 
 */
  __pyx_v_7libsnes_load_cartridge_bsx = ((__pyx_t_7libsnes_load_cartridge_bsx_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_6));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line160")'> 160: 	load_cartridge_bsx_slotted = &lt;load_cartridge_bsx_slotted_t&gt; dlsym(handle, 'snes_load_cartridge_bsx_slotted')</pre>
<pre id='line160' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":160
 * 	load_cartridge_normal = <code><</code>load_cartridge_normal_t> dlsym(handle, 'snes_load_cartridge_normal')
 * 	load_cartridge_bsx = <code><</code>load_cartridge_bsx_t> dlsym(handle, 'snes_load_cartridge_bsx')
 * 	load_cartridge_bsx_slotted = <code><</code>load_cartridge_bsx_slotted_t> dlsym(handle, 'snes_load_cartridge_bsx_slotted')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	load_cartridge_sufami_turbo = <code><</code>load_cartridge_sufami_turbo_t> dlsym(handle, 'snes_load_cartridge_sufami_turbo')
 */
  __pyx_v_7libsnes_load_cartridge_bsx_slotted = ((__pyx_t_7libsnes_load_cartridge_bsx_slotted_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_7));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line161")'> 161: </pre>
<pre id='line161' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line162")'> 162: 	load_cartridge_sufami_turbo = &lt;load_cartridge_sufami_turbo_t&gt; dlsym(handle, 'snes_load_cartridge_sufami_turbo')</pre>
<pre id='line162' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":162
 * 	load_cartridge_bsx_slotted = <code><</code>load_cartridge_bsx_slotted_t> dlsym(handle, 'snes_load_cartridge_bsx_slotted')
 * 
 * 	load_cartridge_sufami_turbo = <code><</code>load_cartridge_sufami_turbo_t> dlsym(handle, 'snes_load_cartridge_sufami_turbo')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	load_cartridge_super_game_boy = <code><</code>load_cartridge_super_game_boy_t> dlsym(handle, 'snes_load_cartridge_super_game_boy')
 * 
 */
  __pyx_v_7libsnes_load_cartridge_sufami_turbo = ((__pyx_t_7libsnes_load_cartridge_sufami_turbo_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_8));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line163")'> 163: 	load_cartridge_super_game_boy = &lt;load_cartridge_super_game_boy_t&gt; dlsym(handle, 'snes_load_cartridge_super_game_boy')</pre>
<pre id='line163' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":163
 * 
 * 	load_cartridge_sufami_turbo = <code><</code>load_cartridge_sufami_turbo_t> dlsym(handle, 'snes_load_cartridge_sufami_turbo')
 * 	load_cartridge_super_game_boy = <code><</code>load_cartridge_super_game_boy_t> dlsym(handle, 'snes_load_cartridge_super_game_boy')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	set_cartridge_basename = <code><</code>set_cartridge_basename_t> dlsym(handle, 'snes_set_cartridge_basename')
 */
  __pyx_v_7libsnes_load_cartridge_super_game_boy = ((__pyx_t_7libsnes_load_cartridge_super_game_boy_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_9));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line164")'> 164: </pre>
<pre id='line164' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line165")'> 165: 	set_cartridge_basename = &lt;set_cartridge_basename_t&gt; dlsym(handle, 'snes_set_cartridge_basename')</pre>
<pre id='line165' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":165
 * 	load_cartridge_super_game_boy = <code><</code>load_cartridge_super_game_boy_t> dlsym(handle, 'snes_load_cartridge_super_game_boy')
 * 
 * 	set_cartridge_basename = <code><</code>set_cartridge_basename_t> dlsym(handle, 'snes_set_cartridge_basename')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	unload_cartridge = <code><</code>unload_cartridge_t> dlsym(handle, 'snes_unload_cartridge')
 * 
 */
  __pyx_v_7libsnes_set_cartridge_basename = ((__pyx_t_7libsnes_set_cartridge_basename_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_10));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line166")'> 166: 	unload_cartridge = &lt;unload_cartridge_t&gt; dlsym(handle, 'snes_unload_cartridge')</pre>
<pre id='line166' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":166
 * 
 * 	set_cartridge_basename = <code><</code>set_cartridge_basename_t> dlsym(handle, 'snes_set_cartridge_basename')
 * 	unload_cartridge = <code><</code>unload_cartridge_t> dlsym(handle, 'snes_unload_cartridge')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	get_memory_data = <code><</code>get_memory_data_t> dlsym(handle, 'snes_get_memory_data')
 */
  __pyx_v_7libsnes_unload_cartridge = ((__pyx_t_7libsnes_unload_cartridge_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_11));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line167")'> 167: </pre>
<pre id='line167' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line168")'> 168: 	get_memory_data = &lt;get_memory_data_t&gt; dlsym(handle, 'snes_get_memory_data')</pre>
<pre id='line168' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":168
 * 	unload_cartridge = <code><</code>unload_cartridge_t> dlsym(handle, 'snes_unload_cartridge')
 * 
 * 	get_memory_data = <code><</code>get_memory_data_t> dlsym(handle, 'snes_get_memory_data')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	get_memory_size = <code><</code>get_memory_size_t> dlsym(handle, 'snes_get_memory_size')
 * 
 */
  __pyx_v_7libsnes_get_memory_data = ((__pyx_t_7libsnes_get_memory_data_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_12));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line169")'> 169: 	get_memory_size = &lt;get_memory_size_t&gt; dlsym(handle, 'snes_get_memory_size')</pre>
<pre id='line169' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":169
 * 
 * 	get_memory_data = <code><</code>get_memory_data_t> dlsym(handle, 'snes_get_memory_data')
 * 	get_memory_size = <code><</code>get_memory_size_t> dlsym(handle, 'snes_get_memory_size')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	set_audio_sample = <code><</code>set_audio_sample_t> dlsym(handle, 'snes_set_audio_sample')
 */
  __pyx_v_7libsnes_get_memory_size = ((__pyx_t_7libsnes_get_memory_size_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_13));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line170")'> 170: </pre>
<pre id='line170' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line171")'> 171: 	set_audio_sample = &lt;set_audio_sample_t&gt; dlsym(handle, 'snes_set_audio_sample')</pre>
<pre id='line171' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":171
 * 	get_memory_size = <code><</code>get_memory_size_t> dlsym(handle, 'snes_get_memory_size')
 * 
 * 	set_audio_sample = <code><</code>set_audio_sample_t> dlsym(handle, 'snes_set_audio_sample')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_video_refresh = <code><</code>set_video_refresh_t> dlsym(handle, 'snes_set_video_refresh')
 * 	set_input_poll = <code><</code>set_input_poll_t> dlsym(handle, 'snes_set_input_poll')
 */
  __pyx_v_7libsnes_set_audio_sample = ((__pyx_t_7libsnes_set_audio_sample_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_14));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line172")'> 172: 	set_video_refresh = &lt;set_video_refresh_t&gt; dlsym(handle, 'snes_set_video_refresh')</pre>
<pre id='line172' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":172
 * 
 * 	set_audio_sample = <code><</code>set_audio_sample_t> dlsym(handle, 'snes_set_audio_sample')
 * 	set_video_refresh = <code><</code>set_video_refresh_t> dlsym(handle, 'snes_set_video_refresh')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_input_poll = <code><</code>set_input_poll_t> dlsym(handle, 'snes_set_input_poll')
 * 	set_input_state = <code><</code>set_input_state_t> dlsym(handle, 'snes_set_input_state')
 */
  __pyx_v_7libsnes_set_video_refresh = ((__pyx_t_7libsnes_set_video_refresh_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_15));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line173")'> 173: 	set_input_poll = &lt;set_input_poll_t&gt; dlsym(handle, 'snes_set_input_poll')</pre>
<pre id='line173' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":173
 * 	set_audio_sample = <code><</code>set_audio_sample_t> dlsym(handle, 'snes_set_audio_sample')
 * 	set_video_refresh = <code><</code>set_video_refresh_t> dlsym(handle, 'snes_set_video_refresh')
 * 	set_input_poll = <code><</code>set_input_poll_t> dlsym(handle, 'snes_set_input_poll')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_input_state = <code><</code>set_input_state_t> dlsym(handle, 'snes_set_input_state')
 * 
 */
  __pyx_v_7libsnes_set_input_poll = ((__pyx_t_7libsnes_set_input_poll_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k__snes_set_input_poll));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line174")'> 174: 	set_input_state = &lt;set_input_state_t&gt; dlsym(handle, 'snes_set_input_state')</pre>
<pre id='line174' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":174
 * 	set_video_refresh = <code><</code>set_video_refresh_t> dlsym(handle, 'snes_set_video_refresh')
 * 	set_input_poll = <code><</code>set_input_poll_t> dlsym(handle, 'snes_set_input_poll')
 * 	set_input_state = <code><</code>set_input_state_t> dlsym(handle, 'snes_set_input_state')             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	err = dlerror()
 */
  __pyx_v_7libsnes_set_input_state = ((__pyx_t_7libsnes_set_input_state_t)dlsym(__pyx_v_7libsnes_handle, __pyx_k_16));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line175")'> 175: </pre>
<pre id='line175' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line176")'> 176: 	err = dlerror()</pre>
<pre id='line176' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":176
 * 	set_input_state = <code><</code>set_input_state_t> dlsym(handle, 'snes_set_input_state')
 * 
 * 	err = dlerror()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	if err:
 * 		close_lib()
 */
  __pyx_v_err = dlerror();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line177")'> 177: 	if err:</pre>
<pre id='line177' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":177
 * 
 * 	err = dlerror()
 * 	if err:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		close_lib()
 * 		return err
 */
  __pyx_t_1 = (__pyx_v_err != 0);
  if (__pyx_t_1) {
</pre><pre class='line' style='background-color: #FFFFe7' onclick='toggleDiv("line178")'> 178: 		close_lib()</pre>
<pre id='line178' class='code' style='background-color: #FFFFe7'>
    /* "libsnes.pyx":178
 * 	err = dlerror()
 * 	if err:
 * 		close_lib()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		return err
 * 
 */
    __pyx_t_2 = __pyx_f_7libsnes_close_lib(0);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 178; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_2);
    <span class='pyx_macro_api'>__Pyx_DECREF</span>(__pyx_t_2); __pyx_t_2 = 0;
</pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line179")'> 179: 		return err</pre>
<pre id='line179' class='code' style='background-color: #FFFF9f'>
    /* "libsnes.pyx":179
 * 	if err:
 * 		close_lib()
 * 		return err             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 	init()
 */
    <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
    __pyx_t_2 = <span class='py_c_api'>PyBytes_FromString</span>(__pyx_v_err);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 179; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
    <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_2));
    __pyx_r = ((PyObject *)__pyx_t_2);
    __pyx_t_2 = 0;
    goto __pyx_L0;
    goto __pyx_L4;
  }
  __pyx_L4:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line180")'> 180: </pre>
<pre id='line180' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line181")'> 181: 	init()</pre>
<pre id='line181' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":181
 * 		return err
 * 
 * 	init()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_audio_sample(&audio_sample)
 * 	set_video_refresh(&video_refresh)
 */
  __pyx_v_7libsnes_init();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line182")'> 182: 	set_audio_sample(&amp;audio_sample)</pre>
<pre id='line182' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":182
 * 
 * 	init()
 * 	set_audio_sample(&audio_sample)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_video_refresh(&video_refresh)
 * 	set_input_poll(&input_poll)
 */
  __pyx_v_7libsnes_set_audio_sample((&__pyx_f_7libsnes_audio_sample));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line183")'> 183: 	set_video_refresh(&amp;video_refresh)</pre>
<pre id='line183' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":183
 * 	init()
 * 	set_audio_sample(&audio_sample)
 * 	set_video_refresh(&video_refresh)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_input_poll(&input_poll)
 * 	set_input_state(&input_state)
 */
  __pyx_v_7libsnes_set_video_refresh((&__pyx_f_7libsnes_video_refresh));
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line184")'> 184: 	set_input_poll(&amp;input_poll)</pre>
<pre id='line184' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":184
 * 	set_audio_sample(&audio_sample)
 * 	set_video_refresh(&video_refresh)
 * 	set_input_poll(&input_poll)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	set_input_state(&input_state)
 * 
 */
  __pyx_v_7libsnes_set_input_poll((&__pyx_f_7libsnes_input_poll));
</pre><pre class='line' style='background-color: #FFFF57' onclick='toggleDiv("line185")'> 185: 	set_input_state(&amp;input_state)</pre>
<pre id='line185' class='code' style='background-color: #FFFF57'>
  /* "libsnes.pyx":185
 * 	set_video_refresh(&video_refresh)
 * 	set_input_poll(&input_poll)
 * 	set_input_state(&input_state)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
  __pyx_v_7libsnes_set_input_state((&__pyx_f_7libsnes_input_state));

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.load_lib", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_1load_lib(PyObject *__pyx_self, PyObject *__pyx_arg_path); /*proto*/
static PyObject *__pyx_pw_7libsnes_1load_lib(PyObject *__pyx_self, PyObject *__pyx_arg_path) {
  char *__pyx_v_path;
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("load_lib (wrapper)", 0);
  __pyx_self = __pyx_self;
  assert(__pyx_arg_path); {
    __pyx_v_path = <span class='py_c_api'>PyBytes_AsString</span>(__pyx_arg_path);<span class='error_goto'> if (unlikely((!__pyx_v_path) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 116; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L3_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.load_lib", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_7libsnes_load_lib(__pyx_self, ((char *)__pyx_v_path));
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line186")'> 186: </pre>
<pre id='line186' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line187")'> 187: </pre>
<pre id='line187' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line188")'> 188: </pre>
<pre id='line188' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line189")'> 189: cpdef close_lib():</pre>
<pre id='line189' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":189
 * 
 * 
 * cpdef close_lib():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global handle, term, bufsurf
 * 	if term:     term()
 */

static PyObject *__pyx_pw_7libsnes_3close_lib(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_f_7libsnes_close_lib(CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("close_lib", 0);

/* "libsnes.pyx":189
 * 
 * 
 * cpdef close_lib():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global handle, term, bufsurf
 * 	if term:     term()
 */

static PyObject *__pyx_pf_7libsnes_2close_lib(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("close_lib", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_close_lib(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 189; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.close_lib", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line190")'> 190: 	global handle, term, bufsurf</pre>
<pre id='line190' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line191")'> 191: 	if term:     term()</pre>
<pre id='line191' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":191
 * cpdef close_lib():
 * 	global handle, term, bufsurf
 * 	if term:     term()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	if bufsurf:  SDL_FreeSurface(bufsurf)
 * 	if handle:   dlclose(handle)
 */
  __pyx_t_1 = (__pyx_v_7libsnes_term != 0);
  if (__pyx_t_1) {
    __pyx_v_7libsnes_term();
    goto __pyx_L3;
  }
  __pyx_L3:;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line192")'> 192: 	if bufsurf:  SDL_FreeSurface(bufsurf)</pre>
<pre id='line192' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":192
 * 	global handle, term, bufsurf
 * 	if term:     term()
 * 	if bufsurf:  SDL_FreeSurface(bufsurf)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	if handle:   dlclose(handle)
 * 
 */
  __pyx_t_1 = (__pyx_v_7libsnes_bufsurf != 0);
  if (__pyx_t_1) {
    SDL_FreeSurface(__pyx_v_7libsnes_bufsurf);
    goto __pyx_L4;
  }
  __pyx_L4:;
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line193")'> 193: 	if handle:   dlclose(handle)</pre>
<pre id='line193' class='code' style='background-color: #FFFFc4'>
  /* "libsnes.pyx":193
 * 	if term:     term()
 * 	if bufsurf:  SDL_FreeSurface(bufsurf)
 * 	if handle:   dlclose(handle)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
  __pyx_t_1 = (__pyx_v_7libsnes_handle != 0);
  if (__pyx_t_1) {
    dlclose(__pyx_v_7libsnes_handle);
    goto __pyx_L5;
  }
  __pyx_L5:;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_3close_lib(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pw_7libsnes_3close_lib(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("close_lib (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_2close_lib(__pyx_self);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line194")'> 194: </pre>
<pre id='line194' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line195")'> 195: </pre>
<pre id='line195' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line196")'> 196: </pre>
<pre id='line196' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line197")'> 197: cpdef snes_library_id():</pre>
<pre id='line197' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":197
 * 
 * 
 * cpdef snes_library_id():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global library_id
 * 	return library_id()
 */

static PyObject *__pyx_pw_7libsnes_5snes_library_id(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_f_7libsnes_snes_library_id(CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_library_id", 0);

/* "libsnes.pyx":197
 * 
 * 
 * cpdef snes_library_id():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global library_id
 * 	return library_id()
 */

static PyObject *__pyx_pf_7libsnes_4snes_library_id(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_library_id", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_snes_library_id(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 197; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.snes_library_id", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line198")'> 198: 	global library_id</pre>
<pre id='line198' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF73' onclick='toggleDiv("line199")'> 199: 	return library_id()</pre>
<pre id='line199' class='code' style='background-color: #FFFF73'>
  /* "libsnes.pyx":199
 * cpdef snes_library_id():
 * 	global library_id
 * 	return library_id()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef snes_library_revision():
 */
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyBytes_FromString</span>(__pyx_v_7libsnes_library_id());<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 199; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  __pyx_r = ((PyObject *)__pyx_t_1);
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.snes_library_id", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_5snes_library_id(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pw_7libsnes_5snes_library_id(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_library_id (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_4snes_library_id(__pyx_self);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line200")'> 200: </pre>
<pre id='line200' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line201")'> 201: cpdef snes_library_revision():</pre>
<pre id='line201' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":201
 * 	return library_id()
 * 
 * cpdef snes_library_revision():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global library_revision_major, library_revision_minor
 * 	return (int(library_revision_major()), int(library_revision_minor()))
 */

static PyObject *__pyx_pw_7libsnes_7snes_library_revision(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_f_7libsnes_snes_library_revision(CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_library_revision", 0);

/* "libsnes.pyx":201
 * 	return library_id()
 * 
 * cpdef snes_library_revision():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global library_revision_major, library_revision_minor
 * 	return (int(library_revision_major()), int(library_revision_minor()))
 */

static PyObject *__pyx_pf_7libsnes_6snes_library_revision(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_library_revision", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_snes_library_revision(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 201; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.snes_library_revision", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line202")'> 202: 	global library_revision_major, library_revision_minor</pre>
<pre id='line202' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF2a' onclick='toggleDiv("line203")'> 203: 	return (int(library_revision_major()), int(library_revision_minor()))</pre>
<pre id='line203' class='code' style='background-color: #FFFF2a'>
  /* "libsnes.pyx":203
 * cpdef snes_library_revision():
 * 	global library_revision_major, library_revision_minor
 * 	return (int(library_revision_major()), int(library_revision_minor()))             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef load_rom(unsigned char* data, int size):
 */
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = <span class='py_c_api'>PyLong_FromUnsignedLong</span>(__pyx_v_7libsnes_library_revision_major());<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_t_2 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_2, 0, __pyx_t_1);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GIVEREF</span></span>(__pyx_t_1);
  __pyx_t_1 = 0;
  __pyx_t_1 = <span class='py_c_api'>PyObject_Call</span>(((PyObject *)((PyObject*)(&PyInt_Type))), ((PyObject *)__pyx_t_2), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(((PyObject *)__pyx_t_2)); __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyLong_FromUnsignedLong</span>(__pyx_v_7libsnes_library_revision_minor());<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_2);
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(1);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_2);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GIVEREF</span></span>(__pyx_t_2);
  __pyx_t_2 = 0;
  __pyx_t_2 = <span class='py_c_api'>PyObject_Call</span>(((PyObject *)((PyObject*)(&PyInt_Type))), ((PyObject *)__pyx_t_3), NULL);<span class='error_goto'> if (unlikely(!__pyx_t_2)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(((PyObject *)__pyx_t_3)); __pyx_t_3 = 0;
  __pyx_t_3 = <span class='py_c_api'>PyTuple_New</span>(2);<span class='error_goto'> if (unlikely(!__pyx_t_3)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 203; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_3);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 0, __pyx_t_1);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GIVEREF</span></span>(__pyx_t_1);
  <span class='py_macro_api'>PyTuple_SET_ITEM</span>(__pyx_t_3, 1, __pyx_t_2);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GIVEREF</span></span>(__pyx_t_2);
  __pyx_t_1 = 0;
  __pyx_t_2 = 0;
  __pyx_r = ((PyObject *)__pyx_t_3);
  __pyx_t_3 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_2);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_3);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.snes_library_revision", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_7snes_library_revision(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pw_7libsnes_7snes_library_revision(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_library_revision (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_6snes_library_revision(__pyx_self);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line204")'> 204: </pre>
<pre id='line204' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line205")'> 205: cpdef load_rom(unsigned char* data, int size):</pre>
<pre id='line205' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":205
 * 	return (int(library_revision_major()), int(library_revision_minor()))
 * 
 * cpdef load_rom(unsigned char* data, int size):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global load_cartridge_normal, power
 * 	load_cartridge_normal(NULL, data, size)
 */

static PyObject *__pyx_pw_7libsnes_9load_rom(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7libsnes_load_rom(unsigned char *__pyx_v_data, int __pyx_v_size, CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("load_rom", 0);

/* "libsnes.pyx":205
 * 	return (int(library_revision_major()), int(library_revision_minor()))
 * 
 * cpdef load_rom(unsigned char* data, int size):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global load_cartridge_normal, power
 * 	load_cartridge_normal(NULL, data, size)
 */

static PyObject *__pyx_pf_7libsnes_8load_rom(CYTHON_UNUSED PyObject *__pyx_self, unsigned char *__pyx_v_data, int __pyx_v_size) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("load_rom", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_load_rom(__pyx_v_data, __pyx_v_size, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.load_rom", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line206")'> 206: 	global load_cartridge_normal, power</pre>
<pre id='line206' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line207")'> 207: 	load_cartridge_normal(NULL, data, size)</pre>
<pre id='line207' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":207
 * cpdef load_rom(unsigned char* data, int size):
 * 	global load_cartridge_normal, power
 * 	load_cartridge_normal(NULL, data, size)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	power()
 * 
 */
  __pyx_v_7libsnes_load_cartridge_normal(NULL, __pyx_v_data, __pyx_v_size);
</pre><pre class='line' style='background-color: #FFFF27' onclick='toggleDiv("line208")'> 208: 	power()</pre>
<pre id='line208' class='code' style='background-color: #FFFF27'>
  /* "libsnes.pyx":208
 * 	global load_cartridge_normal, power
 * 	load_cartridge_normal(NULL, data, size)
 * 	power()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef snes_run():
 */
  __pyx_v_7libsnes_power();

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_9load_rom(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pw_7libsnes_9load_rom(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  unsigned char *__pyx_v_data;
  int __pyx_v_size;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__data,&__pyx_n_s__size,0};
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("load_rom (wrapper)", 0);
  __pyx_self = __pyx_self;
  {
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        values[0] = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__data);
        if (likely(values[0])) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        values[1] = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__size);
        if (likely(values[1])) kw_args--;
        else {
          <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("load_rom", 1, 2, 2, 1);<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "load_rom") <code><</code> 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
    } else if (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args) != 2) {
      goto __pyx_L5_argtuple_error;
    } else {
      values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
      values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
    }
    __pyx_v_data = __Pyx_<span class='py_c_api'>PyBytes_AsUString</span>(values[0]);<span class='error_goto'> if (unlikely((!__pyx_v_data) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    __pyx_v_size = __Pyx_<span class='py_c_api'>PyInt_AsInt</span>(values[1]);<span class='error_goto'> if (unlikely((__pyx_v_size == (int)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("load_rom", 1, 2, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 205; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.load_rom", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_7libsnes_8load_rom(__pyx_self, __pyx_v_data, __pyx_v_size);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line209")'> 209: </pre>
<pre id='line209' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line210")'> 210: cpdef snes_run():</pre>
<pre id='line210' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":210
 * 	power()
 * 
 * cpdef snes_run():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global run
 * 	run()
 */

static PyObject *__pyx_pw_7libsnes_11snes_run(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_f_7libsnes_snes_run(CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_run", 0);

/* "libsnes.pyx":210
 * 	power()
 * 
 * cpdef snes_run():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global run
 * 	run()
 */

static PyObject *__pyx_pf_7libsnes_10snes_run(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_run", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_snes_run(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 210; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.snes_run", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line211")'> 211: 	global run</pre>
<pre id='line211' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line212")'> 212: 	run()</pre>
<pre id='line212' class='code' style='background-color: #FFFFc4'>
  /* "libsnes.pyx":212
 * cpdef snes_run():
 * 	global run
 * 	run()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
  __pyx_v_7libsnes_run();

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_11snes_run(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pw_7libsnes_11snes_run(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("snes_run (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_10snes_run(__pyx_self);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line213")'> 213: </pre>
<pre id='line213' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line214")'> 214: </pre>
<pre id='line214' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line215")'> 215: </pre>
<pre id='line215' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line216")'> 216: cpdef set_sound(pgsound):</pre>
<pre id='line216' class='code' style='background-color: #FFFF62'>
/* "libsnes.pyx":216
 * 
 * 
 * cpdef set_sound(pgsound):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global snd_chunk, snd_pos, snd_data16
 * 	snd_chunk = <span class='py_c_api'>PySound_AsChunk</span>(pgsound)
 */

static PyObject *__pyx_pw_7libsnes_13set_sound(PyObject *__pyx_self, PyObject *__pyx_v_pgsound); /*proto*/
static PyObject *__pyx_f_7libsnes_set_sound(PyObject *__pyx_v_pgsound, CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_sound", 0);

/* "libsnes.pyx":216
 * 
 * 
 * cpdef set_sound(pgsound):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global snd_chunk, snd_pos, snd_data16
 * 	snd_chunk = <span class='py_c_api'>PySound_AsChunk</span>(pgsound)
 */

static PyObject *__pyx_pf_7libsnes_12set_sound(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_pgsound) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_sound", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_set_sound(__pyx_v_pgsound, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 216; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.set_sound", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line217")'> 217: 	global snd_chunk, snd_pos, snd_data16</pre>
<pre id='line217' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF7f' onclick='toggleDiv("line218")'> 218: 	snd_chunk = PySound_AsChunk(pgsound)</pre>
<pre id='line218' class='code' style='background-color: #FFFF7f'>
  /* "libsnes.pyx":218
 * cpdef set_sound(pgsound):
 * 	global snd_chunk, snd_pos, snd_data16
 * 	snd_chunk = <span class='py_c_api'>PySound_AsChunk</span>(pgsound)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	snd_pos = 0
 * 	snd_data16 = <code><</code>uint16_t*>malloc(512*2*2) # stereo 16bit
 */
  __pyx_v_7libsnes_snd_chunk = <span class='py_c_api'>PySound_AsChunk</span>(__pyx_v_pgsound);
</pre><pre class='line' style='background-color: #FFFFaa' onclick='toggleDiv("line219")'> 219: 	snd_pos = 0</pre>
<pre id='line219' class='code' style='background-color: #FFFFaa'>
  /* "libsnes.pyx":219
 * 	global snd_chunk, snd_pos, snd_data16
 * 	snd_chunk = <span class='py_c_api'>PySound_AsChunk</span>(pgsound)
 * 	snd_pos = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	snd_data16 = <code><</code>uint16_t*>malloc(512*2*2) # stereo 16bit
 * 	#<code><</code>uint16_t*>(snd_chunk.abuf)
 */
  __pyx_v_7libsnes_snd_pos = 0;
</pre><pre class='line' style='background-color: #FFFF8d' onclick='toggleDiv("line220")'> 220: 	snd_data16 = &lt;uint16_t*&gt;malloc(512*2*2) # stereo 16bit</pre>
<pre id='line220' class='code' style='background-color: #FFFF8d'>
  /* "libsnes.pyx":220
 * 	snd_chunk = <span class='py_c_api'>PySound_AsChunk</span>(pgsound)
 * 	snd_pos = 0
 * 	snd_data16 = <code><</code>uint16_t*>malloc(512*2*2) # stereo 16bit             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	#<code><</code>uint16_t*>(snd_chunk.abuf)
 * 
 */
  __pyx_v_7libsnes_snd_data16 = ((__pyx_t_7libsnes_uint16_t *)malloc(2048));

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_13set_sound(PyObject *__pyx_self, PyObject *__pyx_v_pgsound); /*proto*/
static PyObject *__pyx_pw_7libsnes_13set_sound(PyObject *__pyx_self, PyObject *__pyx_v_pgsound) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_sound (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_12set_sound(__pyx_self, ((PyObject *)__pyx_v_pgsound));
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line221")'> 221: 	#&lt;uint16_t*&gt;(snd_chunk.abuf)</pre>
<pre id='line221' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line222")'> 222: </pre>
<pre id='line222' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line223")'> 223: </pre>
<pre id='line223' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line224")'> 224: </pre>
<pre id='line224' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF62' onclick='toggleDiv("line225")'> 225: cpdef set_surface(pgsurf):</pre>
<pre id='line225' class='code' style='background-color: #FFFF62'>
/* "libsnes.pyx":225
 * 
 * 
 * cpdef set_surface(pgsurf):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global vidsurf
 * 	vidsurf = <span class='py_c_api'>PySurface_AsSurface</span>(pgsurf)
 */

static PyObject *__pyx_pw_7libsnes_15set_surface(PyObject *__pyx_self, PyObject *__pyx_v_pgsurf); /*proto*/
static PyObject *__pyx_f_7libsnes_set_surface(PyObject *__pyx_v_pgsurf, CYTHON_UNUSED int __pyx_skip_dispatch) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_surface", 0);

/* "libsnes.pyx":225
 * 
 * 
 * cpdef set_surface(pgsurf):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global vidsurf
 * 	vidsurf = <span class='py_c_api'>PySurface_AsSurface</span>(pgsurf)
 */

static PyObject *__pyx_pf_7libsnes_14set_surface(CYTHON_UNUSED PyObject *__pyx_self, PyObject *__pyx_v_pgsurf) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_surface", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_set_surface(__pyx_v_pgsurf, 0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 225; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.set_surface", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line226")'> 226: 	global vidsurf</pre>
<pre id='line226' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF6e' onclick='toggleDiv("line227")'> 227: 	vidsurf = PySurface_AsSurface(pgsurf)</pre>
<pre id='line227' class='code' style='background-color: #FFFF6e'>
  /* "libsnes.pyx":227
 * cpdef set_surface(pgsurf):
 * 	global vidsurf
 * 	vidsurf = <span class='py_c_api'>PySurface_AsSurface</span>(pgsurf)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
  __pyx_v_7libsnes_vidsurf = <span class='py_c_api'>PySurface_AsSurface</span>(__pyx_v_pgsurf);

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_15set_surface(PyObject *__pyx_self, PyObject *__pyx_v_pgsurf); /*proto*/
static PyObject *__pyx_pw_7libsnes_15set_surface(PyObject *__pyx_self, PyObject *__pyx_v_pgsurf) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_surface (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_14set_surface(__pyx_self, ((PyObject *)__pyx_v_pgsurf));
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line228")'> 228: </pre>
<pre id='line228' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line229")'> 229: </pre>
<pre id='line229' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line230")'> 230: </pre>
<pre id='line230' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line231")'> 231: cpdef set_joymap(char *jmap, int index = 0):</pre>
<pre id='line231' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":231
 * 
 * 
 * cpdef set_joymap(char *jmap, int index = 0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global joy_map, joy_id
 * 	joy_map = jmap
 */

static PyObject *__pyx_pw_7libsnes_17set_joymap(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7libsnes_set_joymap(char *__pyx_v_jmap, CYTHON_UNUSED int __pyx_skip_dispatch, struct __pyx_opt_args_7libsnes_set_joymap *__pyx_optional_args) {
  int __pyx_v_index = ((int)0);
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_joymap", 0);
  if (__pyx_optional_args) {
    if (__pyx_optional_args->__pyx_n > 0) {
      __pyx_v_index = __pyx_optional_args->index;
    }
  }

/* "libsnes.pyx":231
 * 
 * 
 * cpdef set_joymap(char *jmap, int index = 0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global joy_map, joy_id
 * 	joy_map = jmap
 */

static PyObject *__pyx_pf_7libsnes_16set_joymap(CYTHON_UNUSED PyObject *__pyx_self, char *__pyx_v_jmap, int __pyx_v_index) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_joymap", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2.__pyx_n = 1;
  __pyx_t_2.index = __pyx_v_index;
  __pyx_t_1 = __pyx_f_7libsnes_set_joymap(__pyx_v_jmap, 0, &__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.set_joymap", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* "libsnes.pyx":231
 * 
 * 
 * cpdef set_joymap(char *jmap, int index = 0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global joy_map, joy_id
 * 	joy_map = jmap
 */
struct __pyx_opt_args_7libsnes_set_joymap {
  int __pyx_n;
  int index;
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line232")'> 232: 	global joy_map, joy_id</pre>
<pre id='line232' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line233")'> 233: 	joy_map = jmap</pre>
<pre id='line233' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":233
 * cpdef set_joymap(char *jmap, int index = 0):
 * 	global joy_map, joy_id
 * 	joy_map = jmap             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	SDL_Init(SDL_INIT_JOYSTICK)
 * 	joy_id = SDL_JoystickOpen(index)
 */
  __pyx_v_7libsnes_joy_map = __pyx_v_jmap;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line234")'> 234: 	SDL_Init(SDL_INIT_JOYSTICK)</pre>
<pre id='line234' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":234
 * 	global joy_map, joy_id
 * 	joy_map = jmap
 * 	SDL_Init(SDL_INIT_JOYSTICK)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	joy_id = SDL_JoystickOpen(index)
 * 	print SDL_GetError()
 */
  SDL_Init(SDL_INIT_JOYSTICK);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line235")'> 235: 	joy_id = SDL_JoystickOpen(index)</pre>
<pre id='line235' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":235
 * 	joy_map = jmap
 * 	SDL_Init(SDL_INIT_JOYSTICK)
 * 	joy_id = SDL_JoystickOpen(index)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	print SDL_GetError()
 * 
 */
  __pyx_v_7libsnes_joy_id = SDL_JoystickOpen(__pyx_v_index);
</pre><pre class='line' style='background-color: #FFFF22' onclick='toggleDiv("line236")'> 236: 	print SDL_GetError()</pre>
<pre id='line236' class='code' style='background-color: #FFFF22'>
  /* "libsnes.pyx":236
 * 	SDL_Init(SDL_INIT_JOYSTICK)
 * 	joy_id = SDL_JoystickOpen(index)
 * 	print SDL_GetError()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef pad_down(int button, bool port=0, int val = 1):
 */
  __pyx_t_1 = <span class='py_c_api'>PyBytes_FromString</span>(SDL_GetError());<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(((PyObject *)__pyx_t_1));
  if (<span class='pyx_c_api'>__Pyx_PrintOne</span>(0, ((PyObject *)__pyx_t_1)) <code><</code> 0)<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 236; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'>__Pyx_DECREF</span>(((PyObject *)__pyx_t_1)); __pyx_t_1 = 0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.set_joymap", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = 0;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_17set_joymap(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pw_7libsnes_17set_joymap(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  char *__pyx_v_jmap;
  int __pyx_v_index;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__jmap,&__pyx_n_s__index,0};
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("set_joymap (wrapper)", 0);
  __pyx_self = __pyx_self;
  {
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        values[0] = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__jmap);
        if (likely(values[0])) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__index);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "set_joymap") <code><</code> 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      if (values[1]) {
      } else {
        __pyx_v_index = ((int)0);
      }
    } else {
      switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_jmap = <span class='py_c_api'>PyBytes_AsString</span>(values[0]);<span class='error_goto'> if (unlikely((!__pyx_v_jmap) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    if (values[1]) {
      __pyx_v_index = __Pyx_<span class='py_c_api'>PyInt_AsInt</span>(values[1]);<span class='error_goto'> if (unlikely((__pyx_v_index == (int)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_index = ((int)0);
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("set_joymap", 0, 1, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 231; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.set_joymap", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_7libsnes_16set_joymap(__pyx_self, __pyx_v_jmap, __pyx_v_index);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line237")'> 237: </pre>
<pre id='line237' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line238")'> 238: cpdef pad_down(int button, bool port=0, int val = 1):</pre>
<pre id='line238' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":238
 * 	print SDL_GetError()
 * 
 * cpdef pad_down(int button, bool port=0, int val = 1):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	digipads[port][button] = val
 */

static PyObject *__pyx_pw_7libsnes_19pad_down(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7libsnes_pad_down(int __pyx_v_button, CYTHON_UNUSED int __pyx_skip_dispatch, struct __pyx_opt_args_7libsnes_pad_down *__pyx_optional_args) {
  bool __pyx_v_port = ((bool)0);
  int __pyx_v_val = ((int)1);
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_down", 0);
  if (__pyx_optional_args) {
    if (__pyx_optional_args->__pyx_n > 0) {
      __pyx_v_port = __pyx_optional_args->port;
      if (__pyx_optional_args->__pyx_n > 1) {
        __pyx_v_val = __pyx_optional_args->val;
      }
    }
  }

/* "libsnes.pyx":238
 * 	print SDL_GetError()
 * 
 * cpdef pad_down(int button, bool port=0, int val = 1):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	digipads[port][button] = val
 */

static PyObject *__pyx_pf_7libsnes_18pad_down(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_button, bool __pyx_v_port, int __pyx_v_val) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_down", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2.__pyx_n = 2;
  __pyx_t_2.port = __pyx_v_port;
  __pyx_t_2.val = __pyx_v_val;
  __pyx_t_1 = __pyx_f_7libsnes_pad_down(__pyx_v_button, 0, &__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.pad_down", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* "libsnes.pyx":238
 * 	print SDL_GetError()
 * 
 * cpdef pad_down(int button, bool port=0, int val = 1):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	digipads[port][button] = val
 */
struct __pyx_opt_args_7libsnes_pad_down {
  int __pyx_n;
  bool port;
  int val;
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line239")'> 239: 	global digipads</pre>
<pre id='line239' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF20' onclick='toggleDiv("line240")'> 240: 	digipads[port][button] = val</pre>
<pre id='line240' class='code' style='background-color: #FFFF20'>
  /* "libsnes.pyx":240
 * cpdef pad_down(int button, bool port=0, int val = 1):
 * 	global digipads
 * 	digipads[port][button] = val             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef pad_up(int button, bool port=0):
 */
  ((__pyx_v_7libsnes_digipads[__pyx_v_port])[__pyx_v_button]) = __pyx_v_val;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_19pad_down(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pw_7libsnes_19pad_down(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_button;
  bool __pyx_v_port;
  int __pyx_v_val;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__button,&__pyx_n_s__port,&__pyx_n_s__val,0};
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_down (wrapper)", 0);
  __pyx_self = __pyx_self;
  {
    PyObject* values[3] = {0,0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        values[0] = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__button);
        if (likely(values[0])) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__port);
          if (value) { values[1] = value; kw_args--; }
        }
        case  2:
        if (kw_args > 0) {
          PyObject* value = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__val);
          if (value) { values[2] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "pad_down") <code><</code> 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      if (values[1]) {
      } else {
        __pyx_v_port = ((bool)0);
      }
      if (values[2]) {
      } else {
        __pyx_v_val = ((int)1);
      }
    } else {
      switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
        case  3: values[2] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 2);
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_button = __Pyx_<span class='py_c_api'>PyInt_AsInt</span>(values[0]);<span class='error_goto'> if (unlikely((__pyx_v_button == (int)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    if (values[1]) {
      __pyx_v_port = __Pyx_<span class='py_c_api'>PyObject_IsTrue</span>(values[1]);<span class='error_goto'> if (unlikely((__pyx_v_port == (bool)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_port = ((bool)0);
    }
    if (values[2]) {
      __pyx_v_val = __Pyx_<span class='py_c_api'>PyInt_AsInt</span>(values[2]);<span class='error_goto'> if (unlikely((__pyx_v_val == (int)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_val = ((int)1);
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("pad_down", 0, 1, 3, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 238; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.pad_down", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_7libsnes_18pad_down(__pyx_self, __pyx_v_button, __pyx_v_port, __pyx_v_val);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line241")'> 241: </pre>
<pre id='line241' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line242")'> 242: cpdef pad_up(int button, bool port=0):</pre>
<pre id='line242' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":242
 * 	digipads[port][button] = val
 * 
 * cpdef pad_up(int button, bool port=0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	digipads[port][button] = 0
 */

static PyObject *__pyx_pw_7libsnes_21pad_up(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7libsnes_pad_up(int __pyx_v_button, CYTHON_UNUSED int __pyx_skip_dispatch, struct __pyx_opt_args_7libsnes_pad_up *__pyx_optional_args) {
  bool __pyx_v_port = ((bool)0);
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_up", 0);
  if (__pyx_optional_args) {
    if (__pyx_optional_args->__pyx_n > 0) {
      __pyx_v_port = __pyx_optional_args->port;
    }
  }

/* "libsnes.pyx":242
 * 	digipads[port][button] = val
 * 
 * cpdef pad_up(int button, bool port=0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	digipads[port][button] = 0
 */

static PyObject *__pyx_pf_7libsnes_20pad_up(CYTHON_UNUSED PyObject *__pyx_self, int __pyx_v_button, bool __pyx_v_port) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_up", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2.__pyx_n = 1;
  __pyx_t_2.port = __pyx_v_port;
  __pyx_t_1 = __pyx_f_7libsnes_pad_up(__pyx_v_button, 0, &__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.pad_up", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* "libsnes.pyx":242
 * 	digipads[port][button] = val
 * 
 * cpdef pad_up(int button, bool port=0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	digipads[port][button] = 0
 */
struct __pyx_opt_args_7libsnes_pad_up {
  int __pyx_n;
  bool port;
};
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line243")'> 243: 	global digipads</pre>
<pre id='line243' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF29' onclick='toggleDiv("line244")'> 244: 	digipads[port][button] = 0</pre>
<pre id='line244' class='code' style='background-color: #FFFF29'>
  /* "libsnes.pyx":244
 * cpdef pad_up(int button, bool port=0):
 * 	global digipads
 * 	digipads[port][button] = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * cpdef pad_state(int16_t val, bool port=0):
 */
  ((__pyx_v_7libsnes_digipads[__pyx_v_port])[__pyx_v_button]) = 0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_21pad_up(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pw_7libsnes_21pad_up(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  int __pyx_v_button;
  bool __pyx_v_port;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__button,&__pyx_n_s__port,0};
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_up (wrapper)", 0);
  __pyx_self = __pyx_self;
  {
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        values[0] = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__button);
        if (likely(values[0])) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__port);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "pad_up") <code><</code> 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      if (values[1]) {
      } else {
        __pyx_v_port = ((bool)0);
      }
    } else {
      switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_button = __Pyx_<span class='py_c_api'>PyInt_AsInt</span>(values[0]);<span class='error_goto'> if (unlikely((__pyx_v_button == (int)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    if (values[1]) {
      __pyx_v_port = __Pyx_<span class='py_c_api'>PyObject_IsTrue</span>(values[1]);<span class='error_goto'> if (unlikely((__pyx_v_port == (bool)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_port = ((bool)0);
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("pad_up", 0, 1, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 242; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.pad_up", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_7libsnes_20pad_up(__pyx_self, __pyx_v_button, __pyx_v_port);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line245")'> 245: </pre>
<pre id='line245' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF9f' onclick='toggleDiv("line246")'> 246: cpdef pad_state(int16_t val, bool port=0):</pre>
<pre id='line246' class='code' style='background-color: #FFFF9f'>
/* "libsnes.pyx":246
 * 	digipads[port][button] = 0
 * 
 * cpdef pad_state(int16_t val, bool port=0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	cdef int button
 */

static PyObject *__pyx_pw_7libsnes_23pad_state(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_f_7libsnes_pad_state(__pyx_t_7libsnes_int16_t __pyx_v_val, CYTHON_UNUSED int __pyx_skip_dispatch, struct __pyx_opt_args_7libsnes_pad_state *__pyx_optional_args) {
  bool __pyx_v_port = ((bool)0);
  int __pyx_v_button;
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_state", 0);
  if (__pyx_optional_args) {
    if (__pyx_optional_args->__pyx_n > 0) {
      __pyx_v_port = __pyx_optional_args->port;
    }
  }

/* "libsnes.pyx":246
 * 	digipads[port][button] = 0
 * 
 * cpdef pad_state(int16_t val, bool port=0):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global digipads
 * 	cdef int button
 */

static PyObject *__pyx_pf_7libsnes_22pad_state(CYTHON_UNUSED PyObject *__pyx_self, __pyx_t_7libsnes_int16_t __pyx_v_val, bool __pyx_v_port) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_state", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_2.__pyx_n = 1;
  __pyx_t_2.port = __pyx_v_port;
  __pyx_t_1 = __pyx_f_7libsnes_pad_state(__pyx_v_val, 0, &__pyx_t_2);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.pad_state", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line247")'> 247: 	global digipads</pre>
<pre id='line247' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line248")'> 248: 	cdef int button</pre>
<pre id='line248' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line249")'> 249: 	for button in xrange(12):</pre>
<pre id='line249' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":249
 * 	global digipads
 * 	cdef int button
 * 	for button in xrange(12):             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		digipads[port][button] = 0
 * 		if val & (1<code><</code><code><</code>button):  digipads[port][button] = 1
 */
  for (__pyx_t_1 = 0; __pyx_t_1 <code><</code> 12; __pyx_t_1+=1) {
    __pyx_v_button = __pyx_t_1;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line250")'> 250: 		digipads[port][button] = 0</pre>
<pre id='line250' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":250
 * 	cdef int button
 * 	for button in xrange(12):
 * 		digipads[port][button] = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		if val & (1<code><</code><code><</code>button):  digipads[port][button] = 1
 * 
 */
    ((__pyx_v_7libsnes_digipads[__pyx_v_port])[__pyx_v_button]) = 0;
</pre><pre class='line' style='background-color: #FFFF29' onclick='toggleDiv("line251")'> 251: 		if val &amp; (1&lt;&lt;button):  digipads[port][button] = 1</pre>
<pre id='line251' class='code' style='background-color: #FFFF29'>
    /* "libsnes.pyx":251
 * 	for button in xrange(12):
 * 		digipads[port][button] = 0
 * 		if val & (1<code><</code><code><</code>button):  digipads[port][button] = 1             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 * 
 */
    __pyx_t_2 = (__pyx_v_val & (1 <code><</code><code><</code> __pyx_v_button));
    if (__pyx_t_2) {
      ((__pyx_v_7libsnes_digipads[__pyx_v_port])[__pyx_v_button]) = 1;
      goto __pyx_L5;
    }
    __pyx_L5:;
  }

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_23pad_state(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds); /*proto*/
static PyObject *__pyx_pw_7libsnes_23pad_state(PyObject *__pyx_self, PyObject *__pyx_args, PyObject *__pyx_kwds) {
  __pyx_t_7libsnes_int16_t __pyx_v_val;
  bool __pyx_v_port;
  static PyObject **__pyx_pyargnames[] = {&__pyx_n_s__val,&__pyx_n_s__port,0};
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("pad_state (wrapper)", 0);
  __pyx_self = __pyx_self;
  {
    PyObject* values[2] = {0,0};
    if (unlikely(__pyx_kwds)) {
      Py_ssize_t kw_args;
      const Py_ssize_t pos_args = <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args);
      switch (pos_args) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        case  0: break;
        default: goto __pyx_L5_argtuple_error;
      }
      kw_args = <span class='py_c_api'>PyDict_Size</span>(__pyx_kwds);
      switch (pos_args) {
        case  0:
        values[0] = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__val);
        if (likely(values[0])) kw_args--;
        else goto __pyx_L5_argtuple_error;
        case  1:
        if (kw_args > 0) {
          PyObject* value = <span class='py_c_api'>PyDict_GetItem</span>(__pyx_kwds, __pyx_n_s__port);
          if (value) { values[1] = value; kw_args--; }
        }
      }
      if (unlikely(kw_args > 0)) {
        if (unlikely(<span class='pyx_c_api'>__Pyx_ParseOptionalKeywords</span>(__pyx_kwds, __pyx_pyargnames, 0, values, pos_args, "pad_state") <code><</code> 0))<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
      }
      if (values[1]) {
      } else {
        __pyx_v_port = ((bool)0);
      }
    } else {
      switch (<span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args)) {
        case  2: values[1] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 1);
        case  1: values[0] = <span class='py_macro_api'>PyTuple_GET_ITEM</span>(__pyx_args, 0);
        break;
        default: goto __pyx_L5_argtuple_error;
      }
    }
    __pyx_v_val = __Pyx_<span class='py_c_api'>PyInt_AsShort</span>(values[0]);<span class='error_goto'> if (unlikely((__pyx_v_val == (short)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    if (values[1]) {
      __pyx_v_port = __Pyx_<span class='py_c_api'>PyObject_IsTrue</span>(values[1]);<span class='error_goto'> if (unlikely((__pyx_v_port == (bool)-1) && <span class='py_c_api'>PyErr_Occurred</span>())) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
    } else {
      __pyx_v_port = ((bool)0);
    }
  }
  goto __pyx_L4_argument_unpacking_done;
  __pyx_L5_argtuple_error:;
  <span class='pyx_c_api'>__Pyx_RaiseArgtupleInvalid</span>("pad_state", 0, 1, 2, <span class='py_macro_api'>PyTuple_GET_SIZE</span>(__pyx_args));<span class='error_goto'> {__pyx_filename = __pyx_f[0]; __pyx_lineno = 246; __pyx_clineno = __LINE__; goto __pyx_L3_error;}</span>
  __pyx_L3_error:;
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.pad_state", __pyx_clineno, __pyx_lineno, __pyx_filename);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return NULL;
  __pyx_L4_argument_unpacking_done:;
  __pyx_r = __pyx_pf_7libsnes_22pad_state(__pyx_self, __pyx_v_val, __pyx_v_port);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line252")'> 252: </pre>
<pre id='line252' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line253")'> 253: </pre>
<pre id='line253' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line254")'> 254: </pre>
<pre id='line254' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line255")'> 255: cdef extern from 'stdio.h':</pre>
<pre id='line255' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line256")'> 256: 	int snprintf(char *str, size_t size, char *format, ...)</pre>
<pre id='line256' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line257")'> 257: </pre>
<pre id='line257' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line258")'> 258: # don't use, not worth it:</pre>
<pre id='line258' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFF96' onclick='toggleDiv("line259")'> 259: cpdef run_forever():</pre>
<pre id='line259' class='code' style='background-color: #FFFF96'>
/* "libsnes.pyx":259
 * 
 * # don't use, not worth it:
 * cpdef run_forever():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global run, vidsurf
 * 	cdef char fps[5]
 */

static PyObject *__pyx_pw_7libsnes_25run_forever(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_f_7libsnes_run_forever(CYTHON_UNUSED int __pyx_skip_dispatch) {
  char __pyx_v_fps[5];
  int __pyx_v_frames;
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("run_forever", 0);

/* "libsnes.pyx":259
 * 
 * # don't use, not worth it:
 * cpdef run_forever():             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	global run, vidsurf
 * 	cdef char fps[5]
 */

static PyObject *__pyx_pf_7libsnes_24run_forever(CYTHON_UNUSED PyObject *__pyx_self) {
  PyObject *__pyx_r = NULL;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("run_forever", 0);
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_r);
  __pyx_t_1 = __pyx_f_7libsnes_run_forever(0);<span class='error_goto'> if (unlikely(!__pyx_t_1)) {__pyx_filename = __pyx_f[0]; __pyx_lineno = 259; __pyx_clineno = __LINE__; goto __pyx_L1_error;}</span>
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_GOTREF</span></span>(__pyx_t_1);
  __pyx_r = __pyx_t_1;
  __pyx_t_1 = 0;
  goto __pyx_L0;

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  goto __pyx_L0;
  __pyx_L1_error:;
  <span class='pyx_macro_api'>__Pyx_XDECREF</span>(__pyx_t_1);
  <span class='pyx_c_api'>__Pyx_AddTraceback</span>("libsnes.run_forever", __pyx_clineno, __pyx_lineno, __pyx_filename);
  __pyx_r = NULL;
  __pyx_L0:;
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static int __pyx_pw_5numpy_7ndarray_1__getbuffer__(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags); /*proto*/
static int __pyx_pw_5numpy_7ndarray_1__getbuffer__(PyObject *__pyx_v_self, Py_buffer *__pyx_v_info, int __pyx_v_flags) {
  int __pyx_r;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("__getbuffer__ (wrapper)", 0);
  __pyx_r = __pyx_pf_5numpy_7ndarray___getbuffer__(((PyArrayObject *)__pyx_v_self), ((Py_buffer *)__pyx_v_info), ((int)__pyx_v_flags));
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line260")'> 260: 	global run, vidsurf</pre>
<pre id='line260' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line261")'> 261: 	cdef char fps[5]</pre>
<pre id='line261' class='code' style='background-color: #FFFFff'></pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line262")'> 262: 	cdef int frames = 0</pre>
<pre id='line262' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":262
 * 	global run, vidsurf
 * 	cdef char fps[5]
 * 	cdef int frames = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	fps[4] = 0
 * 	while True:
 */
  __pyx_v_frames = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line263")'> 263: 	fps[4] = 0</pre>
<pre id='line263' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":263
 * 	cdef char fps[5]
 * 	cdef int frames = 0
 * 	fps[4] = 0             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 	while True:
 * 		run()
 */
  (__pyx_v_fps[4]) = 0;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line264")'> 264: 	while True:</pre>
<pre id='line264' class='code' style='background-color: #FFFFff'>
  /* "libsnes.pyx":264
 * 	cdef int frames = 0
 * 	fps[4] = 0
 * 	while True:             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		run()
 * 		SDL_Flip(vidsurf)
 */
  while (1) {
    if (!1) break;
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line265")'> 265: 		run()</pre>
<pre id='line265' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":265
 * 	fps[4] = 0
 * 	while True:
 * 		run()             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		SDL_Flip(vidsurf)
 * 		frames += 1000
 */
    __pyx_v_7libsnes_run();
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line266")'> 266: 		SDL_Flip(vidsurf)</pre>
<pre id='line266' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":266
 * 	while True:
 * 		run()
 * 		SDL_Flip(vidsurf)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		frames += 1000
 * 		snprintf(fps, 4, "%d", frames/SDL_GetTicks() )
 */
    SDL_Flip(__pyx_v_7libsnes_vidsurf);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line267")'> 267: 		frames += 1000</pre>
<pre id='line267' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":267
 * 		run()
 * 		SDL_Flip(vidsurf)
 * 		frames += 1000             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		snprintf(fps, 4, "%d", frames/SDL_GetTicks() )
 * 		SDL_WM_SetCaption(fps, NULL)
 */
    __pyx_v_frames = (__pyx_v_frames + 1000);
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line268")'> 268: 		snprintf(fps, 4, "%d", frames/SDL_GetTicks() )</pre>
<pre id='line268' class='code' style='background-color: #FFFFff'>
    /* "libsnes.pyx":268
 * 		SDL_Flip(vidsurf)
 * 		frames += 1000
 * 		snprintf(fps, 4, "%d", frames/SDL_GetTicks() )             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 		SDL_WM_SetCaption(fps, NULL)
 * 
 */
    snprintf(__pyx_v_fps, 4, __pyx_k_17, (__pyx_v_frames / SDL_GetTicks()));
</pre><pre class='line' style='background-color: #FFFFc4' onclick='toggleDiv("line269")'> 269: 		SDL_WM_SetCaption(fps, NULL)</pre>
<pre id='line269' class='code' style='background-color: #FFFFc4'>
    /* "libsnes.pyx":269
 * 		frames += 1000
 * 		snprintf(fps, 4, "%d", frames/SDL_GetTicks() )
 * 		SDL_WM_SetCaption(fps, NULL)             # <code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code><code><</code>
 * 
 */
    SDL_WM_SetCaption(__pyx_v_fps, NULL);
  }

  __pyx_r = Py_None; <span class='pyx_macro_api'>__Pyx_INCREF</span>(Py_None);
  <span class='pyx_macro_api'><span class='refnanny'>__Pyx_XGIVEREF</span></span>(__pyx_r);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}

/* Python wrapper */
static PyObject *__pyx_pw_7libsnes_25run_forever(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused); /*proto*/
static PyObject *__pyx_pw_7libsnes_25run_forever(PyObject *__pyx_self, CYTHON_UNUSED PyObject *unused) {
  PyObject *__pyx_r = 0;
  <span class='refnanny'>__Pyx_RefNannyDeclarations</span>
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannySetupContext</span></span>("run_forever (wrapper)", 0);
  __pyx_self = __pyx_self;
  __pyx_r = __pyx_pf_7libsnes_24run_forever(__pyx_self);
  <span class='pyx_c_api'><span class='refnanny'>__Pyx_RefNannyFinishContext</span></span>();
  return __pyx_r;
}
</pre><pre class='line' style='background-color: #FFFFff' onclick='toggleDiv("line270")'> 270: </pre>
<pre id='line270' class='code' style='background-color: #FFFFff'></pre></body></html>
